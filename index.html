<!DOCTYPE html>

<html>

	<head>
		<title>Twitch Monitor (PD)</title>

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Play" rel="stylesheet">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
		<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" href="style.css" type="text/css" />
	</head>

	<body>

		<script>
		function addChannel(index){

			$("#allBox").append(
					"<div id=\"channel\""+index+">"+
						"<div class=\"row\">"+
							"<div id=\"channel"+index+"Pic\" class=\"col col-sm-2\">"+
							"</div>"+
							"<div id=\"channel"+index+"Name\" class=\"col col-sm-4\">"+
							"</div>"+
							"<div id=\"channel"+index+"Status\" class=\"col col-sm-6\">"+
							"</div>"+
						"</div>"+
					"</div>"
	      )
			};

			$(document).ready(function() {

				$('#btnAll').on('click', function() {
					$("#allBox").removeClass("hidden");
					$("#onlineBox").addClass("hidden");
					$("#offlineBox").addClass("hidden");
				});

				$('#btnOnline').on('click', function() {
					$("#allBox").addClass("hidden");
					$("#onlineBox").removeClass("hidden");
					$("#offlineBox").addClass("hidden");
				});		

				$('#btnOffline').on('click', function() {
					$("#allBox").addClass("hidden");
					$("#onlineBox").addClass("hidden");
					$("#offlineBox").removeClass("hidden");
				});	


				$.getJSON('https://wind-bow.gomix.me/twitch-api/streams/ESL_SC2?callback=?', function(data) {
				  // console.log(data);
					
					var i = 1;
					addChannel(i);

				  $("#channel"+i+"Pic").html("<img class="+"logo"+" src="+data.stream.channel.logo+">");
				  $("#channel"+i+"Name").html("<a href="+data.stream.channel.url+">"+data.stream.channel.display_name+"</a>");
				  $("#channel"+i+"Status").html("<p>"+data.stream.channel.status+"</p>");

				});

			});

		</script>


		<div id="main" class="container">	

			<h1>Twitch Monitor</h1>

			<div id="box">

				<div id="tabs">
					<button id="btnAll" class="btn btnTab">All</button>
					<button id="btnOnline" class="btn btnTab">Online</button>
					<button id="btnOffline" class="btn btnTab">Offline</button>
				</div>

				<div id="allBox" class="">
				</div>

				<div id="onlineBox" class="hidden">
					<div id="channel1">
						<p>Player Channel ONLINE</p>
					</div>
					<div id="channel2">
						<p>Player Channel</p>
					</div>
					<div id="channel3">
						<p>Player Channel</p>
					</div>
				</div>

				<div id="offlineBox" class="hidden">
					<div id="channel1">
						<p>Player Channel OFFLINE</p>
					</div>
					<div id="channel2">
						<p>Player Channel</p>
					</div>
					<div id="channel3">
						<p>Player Channel</p>
					</div>
				</div>

			</div>

		</div>

	</body>

</html>